<html>
  <body>
    <select id="year-select">
      <option>1999</option>
      <option>2000</option>
      <option>2001</option>
      <option>2002</option>
      <option>2003</option>
      <option>2004</option>
      <option>2005</option>
      <option>2006</option>
      <option>2007</option>
      <option>2008</option>
      <option>2009</option>
      <option>2010</option>
      <option>2011</option>
      <option>2012</option>
      <option>2013</option>
      <option>2014</option>
      <option>2015</option>
      <option>2016</option>
      <option>2017</option>
      <option>2018</option>
      <option>2019</option>
      <option>2020</option>
      <option>2021</option>
      <option>2022</option>
      <option>2023</option>
      <option>2024</option>
      <option>2025</option>
      <option>2026</option>
      <option>2027</option>
      <option>2028</option>
      <option>2029</option>
      <option>2030</option>
      <option>2031</option>
      <option>2032</option>
    </select>

    <select id="month-select">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>

    <select id="day-select">
      <option>0</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
      <option>11</option>
      <option>12</option>
      <option>13</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
      <option>21</option>
      <option>22</option>
      <option>23</option>
      <option>24</option>
      <option>25</option>
      <option>26</option>
      <option>27</option>
      <option>28</option>
      <option>29</option>
      <option>30</option>
      <option>31</option>
    </select>

    <select id="hour-select">
      <option>0</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
      <option>11</option>
      <option>12</option>
      <option>13</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
      <option>21</option>
      <option>22</option>
      <option>23</option>
    </select>

    <select id="minute-select">
      <option>0</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
      <option>11</option>
      <option>12</option>
      <option>13</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
      <option>21</option>
      <option>22</option>
      <option>23</option>
      <option>24</option>
      <option>25</option>
      <option>26</option>
      <option>27</option>
      <option>28</option>
      <option>29</option>
      <option>30</option>
      <option>31</option>
      <option>32</option>
      <option>33</option>
      <option>34</option>
      <option>35</option>
      <option>36</option>
      <option>37</option>
      <option>38</option>
      <option>39</option>
      <option>40</option>
      <option>41</option>
      <option>42</option>
      <option>43</option>
      <option>44</option>
      <option>45</option>
      <option>46</option>
      <option>47</option>
      <option>48</option>
      <option>49</option>
      <option>50</option>
      <option>51</option>
      <option>52</option>
      <option>53</option>
      <option>54</option>
      <option>55</option>
      <option>56</option>
      <option>57</option>
      <option>58</option>
      <option>59</option>
    </select>

    <select id="second-select">
      <option>0</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
      <option>11</option>
      <option>12</option>
      <option>13</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
      <option>21</option>
      <option>22</option>
      <option>23</option>
      <option>24</option>
      <option>25</option>
      <option>26</option>
      <option>27</option>
      <option>28</option>
      <option>29</option>
      <option>30</option>
      <option>31</option>
      <option>32</option>
      <option>33</option>
      <option>34</option>
      <option>35</option>
      <option>36</option>
      <option>37</option>
      <option>38</option>
      <option>39</option>
      <option>40</option>
      <option>41</option>
      <option>42</option>
      <option>43</option>
      <option>44</option>
      <option>45</option>
      <option>46</option>
      <option>47</option>
      <option>48</option>
      <option>49</option>
      <option>50</option>
      <option>51</option>
      <option>52</option>
      <option>53</option>
      <option>54</option>
      <option>55</option>
      <option>56</option>
      <option>57</option>
      <option>58</option>
      <option>59</option>
    </select>

    <p id="result-wrapper"></p>

    <script>
      //函数。寻找所有选项中，选中的对象
      function findSelected(k) {
        for (i = 0; i <= k.length - 1; i++) {
          if (k[i].selected == true) {
            return k[i];
          }
        }
      }

      //以下是获取用户输入的六个值
      var select1 = document.querySelector("#year-select");
      var options1 = document
        .querySelector("#year-select")
        .querySelectorAll("option");
      var sYear = findSelected(options1).value; //选中对象的值
      //更新读取到的数值
      select1.onchange = function () {
        sYear = findSelected(options1).value; //选中对象的值
        if (
          sMonth - -1 == 1 ||
          sMonth - -1 == 3 ||
          sMonth - -1 == 5 ||
          sMonth - -1 == 7 ||
          sMonth - -1 == 8 ||
          sMonth - -1 == 10 ||
          sMonth - -1 == 12
        ) {
          the31.disabled = false;
          the30.disabled = false;
          the29.disabled = false;
        } else if (
          sMonth - -1 == 4 ||
          sMonth - -1 == 6 ||
          sMonth - -1 == 9 ||
          sMonth - -1 == 11
        ) {
          the31.disabled = true;
          the30.disabled = false;
          the29.disabled = false;
        } else {
          sYear = findSelected(options1).value;
          if (sYear % 4 == 0) {
            the31.disabled = true;
            the30.disabled = true;
            the29.disabled = false;
          } else {
            the31.disabled = true;
            the30.disabled = true;
            the29.disabled = true;
          }
        }
      };

      var select2 = document.querySelector("#month-select");
      var options2 = document
        .querySelector("#month-select")
        .querySelectorAll("option");
      var sMonth = findSelected(options2).value - 1; //这里，月份的表示从0开始
      select2.onchange = function () {
        sMonth = findSelected(options2).value - 1; //选中对象的值
        var the31 = document.querySelector("#the31");
        var the30 = document.querySelector("#the30");
        var the29 = document.querySelector("#the29");
        var the28 = document.querySelector("#the28");
        if (
          sMonth - -1 == 1 ||
          sMonth - -1 == 3 ||
          sMonth - -1 == 5 ||
          sMonth - -1 == 7 ||
          sMonth - -1 == 8 ||
          sMonth - -1 == 10 ||
          sMonth - -1 == 12
        ) {
          the31.disabled = false;
          the30.disabled = false;
          the29.disabled = false;
        } else if (
          sMonth - -1 == 4 ||
          sMonth - -1 == 6 ||
          sMonth - -1 == 9 ||
          sMonth - -1 == 11
        ) {
          the31.disabled = true;
          the30.disabled = false;
          the29.disabled = false;
        } else {
          sYear = findSelected(options1).value;
          if (sYear % 4 == 0) {
            the31.disabled = true;
            the30.disabled = true;
            the29.disabled = false;
          } else {
            the31.disabled = true;
            the30.disabled = true;
            the29.disabled = true;
          }
        }
      };
      var select3 = document.querySelector("#day-select");
      var options3 = document
        .querySelector("#day-select")
        .querySelectorAll("option");
      var sDate = findSelected(options3).value;
      select3.onchange = function () {
        sDate = findSelected(options3).value; //选中对象的值
      };

      var select4 = document.querySelector("#hour-select");
      var options4 = document
        .querySelector("#hour-select")
        .querySelectorAll("option");
      var sH = findSelected(options4).value;
      select4.onchange = function () {
        sH = findSelected(options4).value; //选中对象的值
      };

      var select5 = document.querySelector("#minute-select");
      var options5 = document
        .querySelector("#minute-select")
        .querySelectorAll("option");
      var sM = findSelected(options5).value;
      select5.onchange = function () {
        sM = findSelected(options5).value; //选中对象的值
      };

      var select6 = document.querySelector("#second-select");
      var options6 = document
        .querySelector("#second-select")
        .querySelectorAll("option");
      var sS = findSelected(options6).value;
      select6.onchange = function () {
        sS = findSelected(options6).value; //选中对象的值
      };

      function nDay(i) {
        //根据某个日期返回这一天是星期几
        switch (i) {
          case "Sun":
            return "星期日";
          case "Mon":
            return "星期一";
          case "Tue":
            return "星期二";
          case "Wed":
            return "星期三";
          case "Thu":
            return "星期四";
          case "Fri":
            return "星期五";
          case "Sat":
            return "星期六";
        }
      }

      var today = new Date();
      var inputDay = new Date();
      var dT = ""; //两个时间的时间差的毫秒值。
      var p = document.querySelector("#result-wrapper");
      function update() {
        inputDay.setFullYear(sYear, sMonth, sDate);
        inputDay.setHours(sH, sM, sS);
        var xingqi = inputDay.toString().slice(0, 3);
        xingqi = nDay(xingqi);
        today = new Date();
        dT = Math.abs(Date.parse(today) - Date.parse(inputDay));
        //以下为毫秒转化为天数
        var days = dT / 1000 / 60 / 60 / 24;
        var daysRound = Math.floor(days);
        var hours = dT / 1000 / 60 / 60 - 24 * daysRound;
        var hoursRound = Math.floor(hours);
        var minutes = dT / 1000 / 60 - 24 * 60 * daysRound - 60 * hoursRound;
        var minutesRound = Math.floor(minutes);
        var seconds =
          dT / 1000 -
          24 * 60 * 60 * daysRound -
          60 * 60 * hoursRound -
          60 * minutesRound;
        var change =
          daysRound +
          "天" +
          hoursRound +
          "时" +
          minutesRound +
          "分" +
          seconds +
          "秒";

        if (Date.parse(today) >= Date.parse(inputDay)) {
          p.textContent =
            "现在距离" +
            sYear +
            "年" +
            (sMonth - -1) +
            "月" +
            sDate +
            "日" +
            xingqi +
            " " +
            sH +
            ":" +
            sM +
            ":" +
            sS +
            " 已经过去" +
            change;
        } else {
          p.textContent =
            "现在距离" +
            sYear +
            "年" +
            (sMonth - -1) +
            "月" +
            sDate +
            "日" +
            xingqi +
            " " +
            sH +
            ":" +
            sM +
            ":" +
            sS +
            " 还有" +
            change;
        }
      }

      setInterval("update()", 500);
    </script>
  </body>
</html>
