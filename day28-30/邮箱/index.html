<html>
  <body>
    <div class="wrapper">
      <input id="email-input" type="text" />
      <ul id="email-sug-wrapper" class="email-sug"></ul>
    </div>
    <script>
      var postfixList = [
        "163.com",
        "gmail.com",
        "126.com",
        "qq.com",
        "263.net",
      ];
      var input = document.querySelector("#email-input");
      var ul = document.querySelector("#email-sug-wrapper");
      input.oninput = function () {
        var trim = getInput();
        //console.log(trim);
        var tips = generateTips();
        //console.log(tips);
        addTips();
        //controlTips();
        //hideTips();
        //displayTips();
      };
      function getInput() {
        var i = document.querySelector("#email-input").value;
        i = i.replace(/\s+/g, "");
        return i;
      }
      function generateTips() {
        var trim = getInput();
        var liContent = new Array();
        for (i = 0; i < postfixList.length; i++) {
          liContent[i] = document.createElement("li");
          liContent[i].textContent = trim + "@" + postfixList[i - 1];
        }
        return liContent;
      }
      function addTips() {
        var tips = generateTips();
        if (ul.children.length >= 5) {
          for (i = 1; i <= 5; i++) {
            var li = document.querySelector("li");
            ul.removeChild(li);
          }
        }
        for (i = 0; i < postfixList.length; i++) {
          ul.appendChild(tips[i]);
        }
      }
    </script>
  </body>
</html>
