<html>
  <body>
    <div
      id="fade-obj"
      style="width: 300px; height: 300px; background: #000"
    ></div>
    <button id="fade-btn">淡出</button>
    <script>
      let div = document.querySelector("div");
      div.style.opacity = 1;
      function danchu() {
        btn.disabled = true;
        if (div.style.opacity > 0) {
          div.style.opacity = Number(div.style.opacity) - 0.01;
          setTimeout("danchu()", 2);
        } else {
          btn.disabled = false;
          btn.textContent = "淡入";
        }
      }
      function danru() {
        btn.disabled = true;
        if (div.style.opacity < 1) {
          div.style.opacity = Number(div.style.opacity) + 0.01;
          setTimeout("danru()", 2);
        } else {
          btn.disabled = false;
          btn.textContent = "淡出";
        }
      }
      let btn = document.querySelector("button");
      btn.onclick = function () {
        if (btn.textContent == "淡入") {
          danru();
        } else {
          danchu();
        }
      };
    </script>
  </body>
</html>
