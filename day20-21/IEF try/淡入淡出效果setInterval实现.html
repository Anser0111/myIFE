<html>
  <body>
    <div
      id="fade-obj"
      style="width: 300px; height: 300px; background: #000"
    ></div>
    <button id="fade-btn">淡出</button>
    <script>
      let div = document.querySelector("div");
      div.style.opacity = 1;
      function danchu() {
        btn.disabled = true;
        div.style.opacity = Number(div.style.opacity) - 0.01;
        if (div.style.opacity == 0) {
          btn.disabled = false;
          btn.textContent = "淡入";
          clearInterval(id1);
        }
      }
      function danru() {
        btn.disabled = true;
        div.style.opacity = Number(div.style.opacity) + 0.01;
        if (div.style.opacity == 1) {
          btn.disabled = false;
          btn.textContent = "淡出";
          clearInterval(id2);
        }
      }
      let btn = document.querySelector("button");
      btn.onclick = function () {
        if (btn.textContent == "淡入") {
          id2 = setInterval("danru()", 2);
        } else {
          id1 = setInterval("danchu()", 2);
        }
      };
    </script>
  </body>
</html>